---
import Cta from '../components/Cta.astro';
import Project from '../components/Project.astro';
import { getCollection } from 'astro:content';
import Experience from '../components/Experience.astro';
import Layout from '../layouts/Layout.astro';

const notes = (await getCollection('notes')).sort(
	(a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf()
);
const recentNotes = notes.slice(0, 3);
---

<Layout>
	<Cta />
	<Project />
	<Experience />
	<div class="mt-10">
		<h2
			class="text-2xl font-bold dark:text-white text-gray-800 my-2"
		>
			Recent Notes
		</h2>
		<ul class="space-y-2">
			{
				recentNotes.map((note) => (
					<li class="border-2 border-gray-200 dark:border-gray-700 p-4 rounded-lg">
						<a href={`/notes/${note.slug}`} class="block">
							<h3 class="text-lg font-bold dark:text-white text-gray-800">
								{note.data.title}
							</h3>
						</a>
					</li>
				))
			}
		</ul>
	</div>
</Layout>
